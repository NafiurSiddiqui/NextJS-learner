# NextJS-learner

This repo contains a general get starter pack of NextJS.

![nextJslogo](/public/images/Nextjs-logo.jpg)

## Pages

Any pages you have goes under this folder. This is basically the `root` of your `routing`.

## Navigation

Navigation between pages are made via the `Link` component which you need to import from `next/link`.

Any sub-folder indside nav will act as the base of the router. for example, we have a directory inside _pages_ called _posts_. To go to that post we simple direct _posts/first-post_. This reudce the hassle of setting up router manually.

## Assests and meta data

Any static assets like images goes inside the top-level public directory.

- `image` : You have a image component provided by nextJS to handle the optimization. You need to import it as `next/image`.

- `head` : You udpate your title and meta-information inside the `Head` component provided by next. you do that by importing `next/head`. Notice the difference between capital and lowercase letter that comes in `<head>` HTML element. You can use it to other compoenent.
- `script` : You can add any script tag inside the `Head` but use `next/script` component to take care of placing script properly. You can check out the use-case on the [first-post](pages/posts/first-post.js). Uncomment the script and see it in play. That is an example of how you include any third party script.
- `styling`: nextJs supports all kind of css, cass preprocessor like sass, css-in-js, etc. You can use modules as well.

only thing you have to take care of, if you want a global css, you need to have an `_app.js` component as a top-level react component and import the global css there.

## Pre-rendering and data fetching

Pre-rendering is nextJS's core. Pre-render means the HTML is generated by next in advance for each page. This helps you with the SEO. you can test this out on any nextJS appication by turning off JS from the browser. You will see the page is still fully interactive. Same is not true for pure react apps.

mindblowing! ü§Ø

There are two **type** of pre-rendering.

-`Static Site Generation (SSG)`: Static site generation is when your page is preload with HTML. Meaning, all the files are already hydrated. _Hydration_ is the process of filling up empty page with Html, css, Js. All your files will be pre-rendered on build time.

You can SSG with or without data.

- **Without Data** : You can SSG without any exterenal data. meaning fetching from any external source like DB or CMS. This is the default.
- **With Data**: Scenario when you will **NEED** to fetch external data. In this case you need use `getStaticProps`. You use it at the bottom your exported comoponents wherever you need this. This is an async function that you need to mention. The data is fetched in the build time.

  üìù `getStaticProps` runs on each requrest during development stage.

- `Server Side Generation (SSR)`: SSR is when the page is hydrated based on requerst. If the usre requerst for page-A, only the page-A will be hydrated and served. Pages are **NOT** built on build time.
  üîó Essentials of [getStaticProps](https://nextjs.org/docs/basic-features/data-fetching/get-static-props)

## About the top-level `posts` directory

you will notice a posts directory and two markdown file inside them. This is where we will use to fetch our data locally.

at the top you have section with meta information known as _YAML_ front matter. YAML stands for 'Yet Another Language' (in case you wondered). To parse this front matter you need a parser known as _gray-matter_. Install the parser with `npm install gray-matter`.

We created a _utility_ function that fetches post with gray matter. look [util](utils/posts.js) for the process.

Go to [Home](pages/index.js) and see the usage of the `getStaticProps` there.

## Dynamic Routes

This is when your page's path depends on external data. Let's say, user wants to read a blog called "foo" and another user wants to read "bar".

This is done so by creating a file naming convetion where the name of the file is encapsulated within a squre bracket. `[name]`.js. So, the path will look like this `/pages/posts/[id].js`. where `id` will be generated dynamically.

This dynamic page must contain three things.

1. React compoennt to render the content.
2. `getStaticPaths` - which returns an array of possible values for `id`.
3. `getStaticProps` - fetched the data with the given `id`.

Go to [posts](utils/posts.js) utility function and see [getAllPostsIds](utils/posts.js#37) function. You must return `param` object with name of the dynamic file in our case `id`. See at the bottom functions of [[id].js](pages/posts/[id].js).

## Renedering markdown content

you need a library to parse markdown content. Let's use `remark` here. go ahead and run `npm install remark remark-html`.
